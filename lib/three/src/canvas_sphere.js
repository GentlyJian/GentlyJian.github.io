$(function(){function e(){w=window.innerWidth/2,m=window.innerHeight/2,r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight)}function n(e){p=e.clientX-w,h=e.clientY-m}function i(e){e.touches.length>1&&(p=e.touches[0].pageX-w)}function t(e){1==e.touches.length&&(p=e.touches[0].pageX-w)}function o(){requestAnimationFrame(o),a()}function a(){r.position.x+=.05*(p-r.position.x),r.position.y+=.05*(200-h-r.position.y),r.lookAt(d.position),c.render(d,r)}var r,d,c,s=window.innerWidth,l=window.innerHeight,p=0,h=0,w=window.innerWidth/2,m=window.innerHeight/2;!function(){var o,a;o=document.createElement("div"),o.style.position="fixed",o.style.top="0px",o.style.left="0px",o.style.zIndex="-1",o.style.opacity="0.5",document.body.appendChild(o),r=new THREE.PerspectiveCamera(75,s/l,1,1e4),r.position.z=1e3,d=new THREE.Scene,c=new THREE.CanvasRenderer({alpha:!0}),c.setPixelRatio(window.devicePixelRatio),c.setSize(s,l),o.appendChild(c.domElement);for(var p=2*Math.PI,h=new THREE.SpriteCanvasMaterial({color:10263708,program:function(e){e.beginPath(),e.arc(0,0,.5,0,p,!0),e.fill()}}),w=0;w<1e3;w++)a=new THREE.Sprite(h),a.position.x=2*Math.random()-1,a.position.y=2*Math.random()-1,a.position.z=2*Math.random()-1,a.position.normalize(),a.position.multiplyScalar(10*Math.random()+450),a.scale.multiplyScalar(2),d.add(a);for(var w=0;w<300;w++){var m=new THREE.Geometry,u=new THREE.Vector3(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1);u.normalize(),u.multiplyScalar(450),m.vertices.push(u);var E=u.clone();E.multiplyScalar(.3*Math.random()+1),m.vertices.push(E);var v=new THREE.Line(m,new THREE.LineBasicMaterial({color:10263708,opacity:Math.random()}));d.add(v)}document.addEventListener("mousemove",n,!1),document.addEventListener("touchstart",i,!1),document.addEventListener("touchmove",t,!1),window.addEventListener("resize",e,!1)}(),o()});